import { HistoryMoveProvider } from '../history-move-provider/history-move-provider';
import { King } from '../models/pieces/king';
import { Pawn } from '../models/pieces/pawn';
import { Rook } from '../models/pieces/rook';
import { Constants } from '../utils/constants';
import { PieceIconInputManager } from '../utils/inputs/piece-icon-input-manager';
import { CoordsProvider } from './coords/coords-provider';
import { DragEndStrategy } from './drag/end/drag-end-strategy';
import { DragStartStrategy } from './drag/start/drag-start-strategy';
import { ColorStrategy } from './drawing-tools/colors/color-strategy';
import { DrawProvider } from './drawing-tools/draw-provider';
import { DefaultPgnProcessor } from './pgn/default-pgn-processor';
export class AbstractEngineFacade {
    constructor(board) {
        this.dragStartStrategy = new DragStartStrategy();
        this.dragEndStrategy = new DragEndStrategy();
        this.pgnProcessor = new DefaultPgnProcessor();
        this.colorStrategy = new ColorStrategy();
        this.coords = new CoordsProvider();
        this.heightAndWidth = Constants.DEFAULT_SIZE;
        this.freeMode = false;
        this.drawProvider = new DrawProvider();
        this.pieceIconManager = new PieceIconInputManager();
        this.moveHistoryProvider = new HistoryMoveProvider();
        this.board = board;
    }
    checkIfPawnFirstMove(piece) {
        if (piece instanceof Pawn) {
            piece.isMovedAlready = true;
        }
    }
    checkIfRookMoved(piece) {
        if (piece instanceof Rook) {
            piece.isMovedAlready = true;
        }
    }
    checkIfKingMoved(piece) {
        if (piece instanceof King) {
            piece.isMovedAlready = true;
        }
    }
    getMoveHistory() {
        return this.moveHistoryProvider.getAll();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJzdHJhY3QtZW5naW5lLWZhY2FkZS5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9Lb21wdXRlci9EZXNrdG9wL05vd3kgZm9sZGVyL2NoZXNzLWJvYXJkL3Byb2plY3RzL25neC1jaGVzcy1ib2FyZC9zcmMvIiwic291cmNlcyI6WyJsaWIvZW5naW5lL2Fic3RyYWN0LWVuZ2luZS1mYWNhZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFFckYsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzdDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUc3QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDN0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBR2pGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDL0QsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFDckUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBQ3RFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUM3RCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUdsRSxNQUFNLE9BQWdCLG9CQUFvQjtJQXNCdEMsWUFBc0IsS0FBWTtRQXBCM0Isc0JBQWlCLEdBQXNCLElBQUksaUJBQWlCLEVBQUUsQ0FBQztRQUMvRCxvQkFBZSxHQUFvQixJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQ3pELGlCQUFZLEdBQXlCLElBQUksbUJBQW1CLEVBQUUsQ0FBQztRQUM1RCxrQkFBYSxHQUFrQixJQUFJLGFBQWEsRUFBRSxDQUFDO1FBRXRELFdBQU0sR0FBbUIsSUFBSSxjQUFjLEVBQUUsQ0FBQztRQUM5QyxtQkFBYyxHQUFXLFNBQVMsQ0FBQyxZQUFZLENBQUM7UUFFaEQsYUFBUSxHQUFHLEtBQUssQ0FBQztRQVFqQixpQkFBWSxHQUFpQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ2hELHFCQUFnQixHQUEwQixJQUFJLHFCQUFxQixFQUFFLENBQUM7UUFDdEUsd0JBQW1CLEdBQXdCLElBQUksbUJBQW1CLEVBQUUsQ0FBQztRQUd4RSxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBNEJNLG9CQUFvQixDQUFDLEtBQVk7UUFDcEMsSUFBSSxLQUFLLFlBQVksSUFBSSxFQUFFO1lBQ3ZCLEtBQUssQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1NBQy9CO0lBQ0wsQ0FBQztJQUVNLGdCQUFnQixDQUFDLEtBQVk7UUFDaEMsSUFBSSxLQUFLLFlBQVksSUFBSSxFQUFFO1lBQ3ZCLEtBQUssQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1NBQy9CO0lBQ0wsQ0FBQztJQUVNLGdCQUFnQixDQUFDLEtBQVk7UUFDaEMsSUFBSSxLQUFLLFlBQVksSUFBSSxFQUFFO1lBQ3ZCLEtBQUssQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1NBQy9CO0lBQ0wsQ0FBQztJQUVNLGNBQWM7UUFDakIsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDN0MsQ0FBQztDQUVKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGllY2VQcm9tb3Rpb25Nb2RhbENvbXBvbmVudCB9IGZyb20gJy4uL3BpZWNlLXByb21vdGlvbi9waWVjZS1wcm9tb3Rpb24tbW9kYWwvcGllY2UtcHJvbW90aW9uLW1vZGFsLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBIaXN0b3J5TW92ZSB9IGZyb20gJy4uL2hpc3RvcnktbW92ZS1wcm92aWRlci9oaXN0b3J5LW1vdmUnO1xuaW1wb3J0IHsgSGlzdG9yeU1vdmVQcm92aWRlciB9IGZyb20gJy4uL2hpc3RvcnktbW92ZS1wcm92aWRlci9oaXN0b3J5LW1vdmUtcHJvdmlkZXInO1xuaW1wb3J0IHsgQm9hcmQgfSBmcm9tICcuLi9tb2RlbHMvYm9hcmQnO1xuaW1wb3J0IHsgS2luZyB9IGZyb20gJy4uL21vZGVscy9waWVjZXMva2luZyc7XG5pbXBvcnQgeyBQYXduIH0gZnJvbSAnLi4vbW9kZWxzL3BpZWNlcy9wYXduJztcbmltcG9ydCB7IFBpZWNlIH0gZnJvbSAnLi4vbW9kZWxzL3BpZWNlcy9waWVjZSc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL21vZGVscy9waWVjZXMvcG9pbnQnO1xuaW1wb3J0IHsgUm9vayB9IGZyb20gJy4uL21vZGVscy9waWVjZXMvcm9vayc7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHsgUGllY2VJY29uSW5wdXRNYW5hZ2VyIH0gZnJvbSAnLi4vdXRpbHMvaW5wdXRzL3BpZWNlLWljb24taW5wdXQtbWFuYWdlcic7XG5pbXBvcnQgeyBDb2xvcklucHV0LCBQaWVjZVR5cGVJbnB1dCB9IGZyb20gJy4uL3V0aWxzL2lucHV0cy9waWVjZS10eXBlLWlucHV0JztcbmltcG9ydCB7IEJvYXJkTG9hZGVyIH0gZnJvbSAnLi9ib2FyZC1zdGF0ZS1wcm92aWRlci9ib2FyZC1sb2FkZXIvYm9hcmQtbG9hZGVyJztcbmltcG9ydCB7IENvb3Jkc1Byb3ZpZGVyIH0gZnJvbSAnLi9jb29yZHMvY29vcmRzLXByb3ZpZGVyJztcbmltcG9ydCB7IERyYWdFbmRTdHJhdGVneSB9IGZyb20gJy4vZHJhZy9lbmQvZHJhZy1lbmQtc3RyYXRlZ3knO1xuaW1wb3J0IHsgRHJhZ1N0YXJ0U3RyYXRlZ3kgfSBmcm9tICcuL2RyYWcvc3RhcnQvZHJhZy1zdGFydC1zdHJhdGVneSc7XG5pbXBvcnQgeyBDb2xvclN0cmF0ZWd5IH0gZnJvbSAnLi9kcmF3aW5nLXRvb2xzL2NvbG9ycy9jb2xvci1zdHJhdGVneSc7XG5pbXBvcnQgeyBEcmF3UHJvdmlkZXIgfSBmcm9tICcuL2RyYXdpbmctdG9vbHMvZHJhdy1wcm92aWRlcic7XG5pbXBvcnQgeyBEZWZhdWx0UGduUHJvY2Vzc29yIH0gZnJvbSAnLi9wZ24vZGVmYXVsdC1wZ24tcHJvY2Vzc29yJztcbmltcG9ydCB7IEFic3RyYWN0UGduUHJvY2Vzc29yIH0gZnJvbSAnLi9wZ24vYWJzdHJhY3QtcGduLXByb2Nlc3Nvcic7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEVuZ2luZUZhY2FkZSB7XG5cbiAgICBwdWJsaWMgZHJhZ1N0YXJ0U3RyYXRlZ3k6IERyYWdTdGFydFN0cmF0ZWd5ID0gbmV3IERyYWdTdGFydFN0cmF0ZWd5KCk7XG4gICAgcHVibGljIGRyYWdFbmRTdHJhdGVneTogRHJhZ0VuZFN0cmF0ZWd5ID0gbmV3IERyYWdFbmRTdHJhdGVneSgpO1xuICAgIHB1YmxpYyBwZ25Qcm9jZXNzb3I6IEFic3RyYWN0UGduUHJvY2Vzc29yID0gbmV3IERlZmF1bHRQZ25Qcm9jZXNzb3IoKTtcbiAgICBwcm90ZWN0ZWQgY29sb3JTdHJhdGVneTogQ29sb3JTdHJhdGVneSA9IG5ldyBDb2xvclN0cmF0ZWd5KCk7XG5cbiAgICBwdWJsaWMgY29vcmRzOiBDb29yZHNQcm92aWRlciA9IG5ldyBDb29yZHNQcm92aWRlcigpO1xuICAgIHB1YmxpYyBoZWlnaHRBbmRXaWR0aDogbnVtYmVyID0gQ29uc3RhbnRzLkRFRkFVTFRfU0laRTtcblxuICAgIHB1YmxpYyBmcmVlTW9kZSA9IGZhbHNlO1xuICAgIHB1YmxpYyBkcmFnRGlzYWJsZWQ6IGJvb2xlYW47XG4gICAgcHVibGljIGRyYXdEaXNhYmxlZDogYm9vbGVhbjtcbiAgICBwdWJsaWMgbGlnaHREaXNhYmxlZDogYm9vbGVhbjtcbiAgICBwdWJsaWMgZGFya0Rpc2FibGVkOiBib29sZWFuO1xuICAgIHB1YmxpYyBib2FyZDogQm9hcmQ7XG4gICAgcHVibGljIG1vZGFsOiBQaWVjZVByb21vdGlvbk1vZGFsQ29tcG9uZW50O1xuICAgIHB1YmxpYyBib2FyZExvYWRlcjogQm9hcmRMb2FkZXI7XG4gICAgcHVibGljIGRyYXdQcm92aWRlcjogRHJhd1Byb3ZpZGVyID0gbmV3IERyYXdQcm92aWRlcigpO1xuICAgIHB1YmxpYyBwaWVjZUljb25NYW5hZ2VyOiBQaWVjZUljb25JbnB1dE1hbmFnZXIgPSBuZXcgUGllY2VJY29uSW5wdXRNYW5hZ2VyKCk7XG4gICAgcHVibGljIG1vdmVIaXN0b3J5UHJvdmlkZXI6IEhpc3RvcnlNb3ZlUHJvdmlkZXIgPSBuZXcgSGlzdG9yeU1vdmVQcm92aWRlcigpO1xuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGJvYXJkOiBCb2FyZCkge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgfVxuXG4gICAgcHVibGljIGFic3RyYWN0IHJlc2V0KCk6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgdW5kbygpOiB2b2lkO1xuXG4gICAgcHVibGljIGFic3RyYWN0IG1vdmUoY29vcmRzOiBzdHJpbmcpOiB2b2lkO1xuXG4gICAgcHVibGljIGFic3RyYWN0IGFkZFBpZWNlKFxuICAgICAgICBwaWVjZVR5cGVJbnB1dDogUGllY2VUeXBlSW5wdXQsXG4gICAgICAgIGNvbG9ySW5wdXQ6IENvbG9ySW5wdXQsXG4gICAgICAgIGNvb3Jkczogc3RyaW5nXG4gICAgKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBvbk1vdXNlVXAoXG4gICAgICAgIGV2ZW50OiBNb3VzZUV2ZW50LFxuICAgICAgICBwb2ludENsaWNrZWQ6IFBvaW50LFxuICAgICAgICBsZWZ0OiBudW1iZXIsXG4gICAgICAgIHRvcDogbnVtYmVyXG4gICAgKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBvbk1vdXNlRG93bihcbiAgICAgICAgZXZlbnQ6IE1vdXNlRXZlbnQsXG4gICAgICAgIHBvaW50Q2xpY2tlZDogUG9pbnQsXG4gICAgICAgIGxlZnQ/OiBudW1iZXIsXG4gICAgICAgIHRvcD86IG51bWJlclxuICAgICk6IHZvaWQ7XG5cbiAgICBwdWJsaWMgY2hlY2tJZlBhd25GaXJzdE1vdmUocGllY2U6IFBpZWNlKSB7XG4gICAgICAgIGlmIChwaWVjZSBpbnN0YW5jZW9mIFBhd24pIHtcbiAgICAgICAgICAgIHBpZWNlLmlzTW92ZWRBbHJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjaGVja0lmUm9va01vdmVkKHBpZWNlOiBQaWVjZSkge1xuICAgICAgICBpZiAocGllY2UgaW5zdGFuY2VvZiBSb29rKSB7XG4gICAgICAgICAgICBwaWVjZS5pc01vdmVkQWxyZWFkeSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY2hlY2tJZktpbmdNb3ZlZChwaWVjZTogUGllY2UpIHtcbiAgICAgICAgaWYgKHBpZWNlIGluc3RhbmNlb2YgS2luZykge1xuICAgICAgICAgICAgcGllY2UuaXNNb3ZlZEFscmVhZHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldE1vdmVIaXN0b3J5KCk6IEhpc3RvcnlNb3ZlW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlSGlzdG9yeVByb3ZpZGVyLmdldEFsbCgpO1xuICAgIH1cblxufVxuIl19