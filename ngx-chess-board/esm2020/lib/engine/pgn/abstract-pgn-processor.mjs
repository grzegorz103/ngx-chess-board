export class AbstractPgnProcessor {
    constructor() {
        this.pgn = [];
        this.currentIndex = 0.5;
    }
    getPGN() {
        return this.pgn.join(' ');
    }
    getLast() {
        return this.pgn[this.pgn.length - 1];
    }
    appendToLast(str) {
        this.pgn[this.pgn.length - 1] = this.getLast() + str;
    }
    processChecks(checkmate, check, stalemate) {
        if (checkmate) {
            this.appendToLast('#');
        }
        else {
            if (check) {
                this.appendToLast('+');
            }
        }
    }
    reset() {
        this.pgn = [];
        this.currentIndex = 0.5;
    }
    addPromotionChoice(promotion) {
        switch (promotion) {
            case 1:
                this.appendToLast('=Q');
                break;
            case 2:
                this.appendToLast('=R');
                break;
            case 3:
                this.appendToLast('=B');
                break;
            case 4:
                this.appendToLast('=N');
                break;
        }
    }
    removeLast() {
        this.pgn.pop();
        this.currentIndex -= 0.5;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJzdHJhY3QtcGduLXByb2Nlc3Nvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1jaGVzcy1ib2FyZC9zcmMvbGliL2VuZ2luZS9wZ24vYWJzdHJhY3QtcGduLXByb2Nlc3Nvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxNQUFNLE9BQWdCLG9CQUFvQjtJQUExQztRQUVjLFFBQUcsR0FBRyxFQUFFLENBQUM7UUFDVCxpQkFBWSxHQUFHLEdBQUcsQ0FBQztJQTBEakMsQ0FBQztJQWpEVSxNQUFNO1FBQ1QsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRVMsT0FBTztRQUNiLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRVMsWUFBWSxDQUFDLEdBQVc7UUFDOUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsR0FBRyxDQUFDO0lBQ3pELENBQUM7SUFFRCxhQUFhLENBQUMsU0FBa0IsRUFBRSxLQUFjLEVBQUUsU0FBa0I7UUFDaEUsSUFBSSxTQUFTLEVBQUU7WUFDWCxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzFCO2FBQU07WUFDSCxJQUFJLEtBQUssRUFBRTtnQkFDUCxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQzFCO1NBQ0o7SUFDTCxDQUFDO0lBRUQsS0FBSztRQUNELElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUM7SUFDNUIsQ0FBQztJQUVELGtCQUFrQixDQUFDLFNBQVM7UUFDeEIsUUFBUSxTQUFTLEVBQUU7WUFDZixLQUFLLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDeEIsTUFBTTtZQUNWLEtBQUssQ0FBQztnQkFDRixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4QixNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3hCLE1BQU07WUFDVixLQUFLLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDeEIsTUFBTTtTQUNiO0lBQ0wsQ0FBQztJQUVELFVBQVU7UUFDTixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2YsSUFBSSxDQUFDLFlBQVksSUFBSSxHQUFHLENBQUM7SUFDN0IsQ0FBQztDQUVKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm9hcmQgfSBmcm9tICcuLi8uLi9tb2RlbHMvYm9hcmQnO1xuaW1wb3J0IHsgUGllY2UgfSBmcm9tICcuLi8uLi9tb2RlbHMvcGllY2VzL3BpZWNlJztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vLi4vbW9kZWxzL3BpZWNlcy9wb2ludCc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFBnblByb2Nlc3NvciB7XG5cbiAgICBwcm90ZWN0ZWQgcGduID0gW107XG4gICAgcHJvdGVjdGVkIGN1cnJlbnRJbmRleCA9IDAuNTtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBwcm9jZXNzKFxuICAgICAgICBib2FyZDogQm9hcmQsXG4gICAgICAgIHNvdXJjZVBpZWNlOiBQaWVjZSxcbiAgICAgICAgZGVzdFBvaW50OiBQb2ludCxcbiAgICAgICAgZGVzdFBpZWNlPzogUGllY2VcbiAgICApOiB2b2lkO1xuXG4gICAgcHVibGljIGdldFBHTigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGduLmpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0TGFzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGduW3RoaXMucGduLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhcHBlbmRUb0xhc3Qoc3RyOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5wZ25bdGhpcy5wZ24ubGVuZ3RoIC0gMV0gPSB0aGlzLmdldExhc3QoKSArIHN0cjtcbiAgICB9XG5cbiAgICBwcm9jZXNzQ2hlY2tzKGNoZWNrbWF0ZTogYm9vbGVhbiwgY2hlY2s6IGJvb2xlYW4sIHN0YWxlbWF0ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAoY2hlY2ttYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZFRvTGFzdCgnIycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNoZWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRUb0xhc3QoJysnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnBnbiA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDAuNTtcbiAgICB9XG5cbiAgICBhZGRQcm9tb3Rpb25DaG9pY2UocHJvbW90aW9uKSB7XG4gICAgICAgIHN3aXRjaCAocHJvbW90aW9uKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRUb0xhc3QoJz1RJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRUb0xhc3QoJz1SJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRUb0xhc3QoJz1CJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRUb0xhc3QoJz1OJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVMYXN0KCkge1xuICAgICAgICB0aGlzLnBnbi5wb3AoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggLT0gMC41O1xuICAgIH1cblxufVxuIl19