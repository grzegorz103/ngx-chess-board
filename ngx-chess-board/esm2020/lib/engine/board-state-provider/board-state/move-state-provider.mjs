import { BehaviorSubject } from 'rxjs';
export class MoveStateProvider {
    constructor() {
        this.statesSubject$ = new BehaviorSubject([]);
    }
    get states() {
        return this.statesSubject$.value;
    }
    set states(states) {
        this.statesSubject$.next(states);
    }
    addMove(state) {
        this.states = [...this.states, state];
    }
    getStates() {
        return this.states;
    }
    pop() {
        const lastState = this.getLastState();
        this.states = this.states.filter((state) => state !== lastState);
        return lastState;
    }
    isEmpty() {
        return this.states.length === 0;
    }
    clear() {
        this.states = [];
    }
    getLastState() {
        return this.states[this.getLastStateIndex()];
    }
    getLastStateIndex() {
        return this.states.length - 1;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW92ZS1zdGF0ZS1wcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1jaGVzcy1ib2FyZC9zcmMvbGliL2VuZ2luZS9ib2FyZC1zdGF0ZS1wcm92aWRlci9ib2FyZC1zdGF0ZS9tb3ZlLXN0YXRlLXByb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFHdkMsTUFBTSxPQUFPLGlCQUFpQjtJQUE5QjtRQUNJLG1CQUFjLEdBQUcsSUFBSSxlQUFlLENBQWUsRUFBRSxDQUFDLENBQUM7SUF1QzNELENBQUM7SUFyQ0csSUFBSSxNQUFNO1FBQ04sT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQztJQUNyQyxDQUFDO0lBRUQsSUFBSSxNQUFNLENBQUMsTUFBb0I7UUFDM0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELE9BQU8sQ0FBQyxLQUFpQjtRQUNyQixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxTQUFTO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxHQUFHO1FBQ0MsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEtBQUssS0FBSyxTQUFTLENBQUMsQ0FBQztRQUNqRSxPQUFPLFNBQVMsQ0FBQztJQUNyQixDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxLQUFLO1FBQ0QsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVELFlBQVk7UUFDUixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsaUJBQWlCO1FBQ2IsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDbEMsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IEJvYXJkU3RhdGUgfSBmcm9tICcuL2JvYXJkLXN0YXRlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3ZlU3RhdGVQcm92aWRlciB7XHJcbiAgICBzdGF0ZXNTdWJqZWN0JCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Qm9hcmRTdGF0ZVtdPihbXSk7XHJcblxyXG4gICAgZ2V0IHN0YXRlcygpOiBCb2FyZFN0YXRlW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlc1N1YmplY3QkLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBzdGF0ZXMoc3RhdGVzOiBCb2FyZFN0YXRlW10pIHtcclxuICAgICAgICB0aGlzLnN0YXRlc1N1YmplY3QkLm5leHQoc3RhdGVzKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRNb3ZlKHN0YXRlOiBCb2FyZFN0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBbLi4udGhpcy5zdGF0ZXMsIHN0YXRlXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdGF0ZXMoKTogQm9hcmRTdGF0ZVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcG9wKCk6IEJvYXJkU3RhdGUge1xyXG4gICAgICAgIGNvbnN0IGxhc3RTdGF0ZSA9IHRoaXMuZ2V0TGFzdFN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSB0aGlzLnN0YXRlcy5maWx0ZXIoKHN0YXRlKSA9PiBzdGF0ZSAhPT0gbGFzdFN0YXRlKTtcclxuICAgICAgICByZXR1cm4gbGFzdFN0YXRlO1xyXG4gICAgfVxyXG5cclxuICAgIGlzRW1wdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVzLmxlbmd0aCA9PT0gMDtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLnN0YXRlcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldExhc3RTdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXNbdGhpcy5nZXRMYXN0U3RhdGVJbmRleCgpXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMYXN0U3RhdGVJbmRleCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlcy5sZW5ndGggLSAxO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==