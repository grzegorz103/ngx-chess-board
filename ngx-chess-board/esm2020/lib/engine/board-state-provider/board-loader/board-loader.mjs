import { DefaultPiecesLoader } from './default-pieces-loader';
import { NotationProcessorFactory } from './notation-processors/notation-processor-factory';
export class BoardLoader {
    constructor(engineFacade, notationProcessor) {
        this.engineFacade = engineFacade;
        if (notationProcessor) {
            this.notationProcessor = notationProcessor;
        }
        else {
            this.notationProcessor = NotationProcessorFactory.getDefaultProcessor();
        }
    }
    addPieces() {
        DefaultPiecesLoader.loadDefaultPieces(this.engineFacade.board);
    }
    loadFEN(fen) {
        this.notationProcessor.process(fen, this.engineFacade);
    }
    loadPGN(pgn) {
        this.notationProcessor.process(pgn, this.engineFacade);
    }
    setEngineFacade(engineFacade) {
        this.engineFacade = engineFacade;
    }
    setNotationProcessor(notationProcessor) {
        this.notationProcessor = notationProcessor;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9hcmQtbG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWNoZXNzLWJvYXJkL3NyYy9saWIvZW5naW5lL2JvYXJkLXN0YXRlLXByb3ZpZGVyL2JvYXJkLWxvYWRlci9ib2FyZC1sb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBV0EsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFOUQsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFFNUYsTUFBTSxPQUFPLFdBQVc7SUFLcEIsWUFBWSxZQUFrQyxFQUFFLGlCQUFxQztRQUNqRixJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUVqQyxJQUFJLGlCQUFpQixFQUFFO1lBQ25CLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQztTQUM5QzthQUFNO1lBQ0gsSUFBSSxDQUFDLGlCQUFpQixHQUFHLHdCQUF3QixDQUFDLG1CQUFtQixFQUFFLENBQUM7U0FDM0U7SUFFTCxDQUFDO0lBRUQsU0FBUztRQUNMLG1CQUFtQixDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVELE9BQU8sQ0FBQyxHQUFXO1FBQ2YsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCxPQUFPLENBQUMsR0FBVztRQUNmLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtJQUMxRCxDQUFDO0lBRUQsZUFBZSxDQUFDLFlBQWtDO1FBQzlDLElBQUksQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO0lBQ3JDLENBQUM7SUFFRCxvQkFBb0IsQ0FBQyxpQkFBb0M7UUFDckQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO0lBQy9DLENBQUM7Q0FFSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJvYXJkIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL2JvYXJkJztcclxuaW1wb3J0IHsgQmlzaG9wIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9iaXNob3AnO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9waWVjZXMvY29sb3InO1xyXG5pbXBvcnQgeyBLaW5nIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9raW5nJztcclxuaW1wb3J0IHsgS25pZ2h0IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9rbmlnaHQnO1xyXG5pbXBvcnQgeyBQYXduIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3BpZWNlcy9wYXduJztcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvcGllY2VzL3BvaW50JztcclxuaW1wb3J0IHsgUXVlZW4gfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvcGllY2VzL3F1ZWVuJztcclxuaW1wb3J0IHsgUm9vayB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9waWVjZXMvcm9vayc7XHJcbmltcG9ydCB7IFVuaWNvZGVDb25zdGFudHMgfSBmcm9tICcuLi8uLi8uLi91dGlscy91bmljb2RlLWNvbnN0YW50cyc7XHJcbmltcG9ydCB7IEFic3RyYWN0RW5naW5lRmFjYWRlIH0gZnJvbSAnLi4vLi4vYWJzdHJhY3QtZW5naW5lLWZhY2FkZSc7XHJcbmltcG9ydCB7IERlZmF1bHRQaWVjZXNMb2FkZXIgfSBmcm9tICcuL2RlZmF1bHQtcGllY2VzLWxvYWRlcic7XHJcbmltcG9ydCB7IE5vdGF0aW9uUHJvY2Vzc29yIH0gZnJvbSAnLi9ub3RhdGlvbi1wcm9jZXNzb3JzL25vdGF0aW9uLXByb2Nlc3Nvcic7XHJcbmltcG9ydCB7IE5vdGF0aW9uUHJvY2Vzc29yRmFjdG9yeSB9IGZyb20gJy4vbm90YXRpb24tcHJvY2Vzc29ycy9ub3RhdGlvbi1wcm9jZXNzb3ItZmFjdG9yeSc7XHJcblxyXG5leHBvcnQgY2xhc3MgQm9hcmRMb2FkZXIge1xyXG5cclxuICAgIHByaXZhdGUgZW5naW5lRmFjYWRlOiBBYnN0cmFjdEVuZ2luZUZhY2FkZTtcclxuICAgIHByaXZhdGUgbm90YXRpb25Qcm9jZXNzb3I6IE5vdGF0aW9uUHJvY2Vzc29yO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZUZhY2FkZTogQWJzdHJhY3RFbmdpbmVGYWNhZGUsIG5vdGF0aW9uUHJvY2Vzc29yPzogTm90YXRpb25Qcm9jZXNzb3IpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZUZhY2FkZSA9IGVuZ2luZUZhY2FkZTtcclxuXHJcbiAgICAgICAgaWYgKG5vdGF0aW9uUHJvY2Vzc29yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm90YXRpb25Qcm9jZXNzb3IgPSBub3RhdGlvblByb2Nlc3NvcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGF0aW9uUHJvY2Vzc29yID0gTm90YXRpb25Qcm9jZXNzb3JGYWN0b3J5LmdldERlZmF1bHRQcm9jZXNzb3IoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFkZFBpZWNlcygpIHtcclxuICAgICAgICBEZWZhdWx0UGllY2VzTG9hZGVyLmxvYWREZWZhdWx0UGllY2VzKHRoaXMuZW5naW5lRmFjYWRlLmJvYXJkKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkRkVOKGZlbjogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5ub3RhdGlvblByb2Nlc3Nvci5wcm9jZXNzKGZlbiwgdGhpcy5lbmdpbmVGYWNhZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRQR04ocGduOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLm5vdGF0aW9uUHJvY2Vzc29yLnByb2Nlc3MocGduLCB0aGlzLmVuZ2luZUZhY2FkZSlcclxuICAgIH1cclxuXHJcbiAgICBzZXRFbmdpbmVGYWNhZGUoZW5naW5lRmFjYWRlOiBBYnN0cmFjdEVuZ2luZUZhY2FkZSkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lRmFjYWRlID0gZW5naW5lRmFjYWRlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE5vdGF0aW9uUHJvY2Vzc29yKG5vdGF0aW9uUHJvY2Vzc29yOiBOb3RhdGlvblByb2Nlc3Nvcikge1xyXG4gICAgICAgIHRoaXMubm90YXRpb25Qcm9jZXNzb3IgPSBub3RhdGlvblByb2Nlc3NvcjtcclxuICAgIH1cclxuXHJcbn1cclxuIl19